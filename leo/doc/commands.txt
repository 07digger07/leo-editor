.. @+leo-ver=5-thin
.. @+node:ekr.20100805165051.7155: * @file commands.txt
.. @@language rest
.. @@tabwidth -4

.. @+at @rst-options
..  call_docutils=False
..  code_mode=False
..  generate_rst=True
..  http_server_support = False
..  show_organizer_nodes=True
..  show_headlines=True
..  show_leo_directives=True
..  stylesheet_path=..\doc
..  write_intermediate_file = True
..  verbose=True
.. @@c

.. @+all
.. @+node:ekr.20050901101608.2: ** @rst html\commands.html
####################
Using Leo's Commands
####################

This chapter discusses all of Leo's menu commands.
It starts with a discussion of the Emacs-like minibuffer,
then continues with a discussion of commands in each of Leo's menus.

.. contents::
    :depth: 3

.. @+node:ekr.20050901101852: *3* @rst-no-head links
.. External links...
.. _CWEB:       http://www-cs-faculty.stanford.edu/~knuth/cweb.html
.. _noweb:      http://www.eecs.harvard.edu/~nr/noweb/

.. Relative links...
.. _`Writing Programs in Leo`:              directives.html
.. _`Customizing Leo`:                       customizing.html
.. _`Clones and views`:                                 intro.html#clones-views
.. _`Creating script buttons`:                          scripting.html#creating-script-buttons

.. @+node:ekr.20120229094652.15103: *3* Autocompletion
Leo's autocompletion feature suggests **completions**, text may be valid in
a given point, or **context** in source code. For example, suppose the
context is::

    os.path.s
    
That is, suppose the cursor follows ``os.path.s`` in the body pane. The
valid completions are all the members of Python's os.path module whose
names start with 's', namely::

    samefile
    sameopenfile
    sep
    split
    splitdrive
    splitext
    splitunc
    stat
    supports_unicode_filenames
    sys
    
How Leo displays these completions depends on the setting::

    @bool use_qcompleter
    
True: Leo shows completions in the QCompleter popup window.
False: Leo shows completions in the log pane.
    
To compute the list of completions, Leo first computes **Leo-specific**
completions. These completions assume that c is a commander, g is the
leoGlobals object and p is a postion. If there are no such completions, Leo
computes completions using ctags data. In order to use these additional
completions you must create the ctags data as described in a later section.
.. @+node:ekr.20120229094652.15104: *4* Starting autocompletion
There are two ways to have Leo show completions. **Manual autocompletion**
shows autocompletions whenever you execute the auto-complete-force
(ctrl-space) command. **Automatic autocompletion** shows completions
whenever you type a period in the body pane.

You can enable autocompletion in two ways:

1. By setting @bool enable_autocompleter_initially = True.

2. By using the toggle-autocompleter (Alt-1) command.
.. @+node:ekr.20120229094652.15106: *4* Using the QCompleter
When the ``@bool use_qcompleter`` setting is False, Leo shows all completions in a
popup window, regardless of how many completions there are. To **accept** a
completion, use the up and down arrows to select a completion, then type the
return key. To **cancel** completion, type the escape key. As an important
shortcut, if the popup window contains only one entry, you may accept a
completion by simply typing the return key.
.. @+node:ekr.20120229094652.15107: *4* Using the Log pane completer
When the ``@bool use_qcompleter`` setting is True, Leo shows completions in in
Leo's log pane. When there are more than 20 completions, Leo shows only the
characters that start a completions. For example, when completing ``os.path.``
the log pane will show::

    _ 17
    a 2
    b 1
    c 2
    d 3
    e 4
    g 5
    i 5
    j 1
    l 1
    n 2
    o 1
    p 2
    r 2
    s 10
    
To see the complete list, type the '!' character.  You will see::

    __all__
    __builtins__
    __cached__
    __doc__
    __file__
    __name__
    __package__
    _get_altsep
    _get_bothseps
    _get_colon
    _get_dot
    _get_empty
    _get_sep
    _get_special
    _getfileinformation
    _getfinalpathname
    _getfullpathname
    abspath
    altsep
    basename
    commonprefix
    curdir
    defpath
    devnull
    dirname
    exists
    ...

Typically, however, you would simply type one of the valid prefix characters.
For example, typing the letter 'a' would create the context ``os.path.a`` and
the log pane would show::

    abspath
    altsep
    
As you type, Leo enters the longest common prefix of all completions into the
body pane. Typing return, escape or ctrl-g (or any other alt or ctrl key) ends
completion.
.. @+node:ekr.20120229094652.15108: *4* Showing docstrings
Regardless of the setting of ``@bool use_qcompleter``, typing '?' while
autocompleting will show the docstring of the present context. For example,
if the context is ``os.path.join``, typing '?' will show::

    Join two or more pathname components, inserting "\" as needed.
    If any component is an absolute path, all previous path components
    will be discarded.
    
It is not possible at present to copy the docstring from the log pane when
using the QCompleter because the QCompleter popup window is a modal dialog.
.. @+node:ekr.20120229094652.15116: *4* Autocompleter settings
These are found in leoSettings.leo: @settings-->Autocompleter::

**@bool use_qcompleter = True**

    True:  show completions in a QCompleter popup.
    False: show completions in Leo's Completions tab.
    
**@bool auto_tab_complete = False**
    
    True: Automatically extend the completed text to the longest common
    prefix of all completions.
    
**@bool autocomplete-brackets = False**
    
    True: When typing an opening bracket '(','[' or '{', immediately type
    the corresponding closing bracket. To move past the closing bracket,
    just type it.
    
**@bool enable_calltips_initially = False**
    
**@bool forbid_invalid_completions = False**
    
    True: Don't add characters during autocompletion that are not part of
    any computed completion.
.. @+node:ekr.20120229094652.15102: *4* Creating ctags data
This section describes how to create ctags data files describing the
desired completions. You must do this when the use_codewise setting is
True.

1. Make sure you have exuberant ctags (not just regular ctags)
   installed. It's an Ubuntu package, so its easy to install if
   you're using Ubuntu.
   
2. Execute the following commands from Leo's external/codewise.py
   module. **Note**: On Windows, you can use codewise.bat to
   execute these commands. For example::

        python <path to leo>\external\codewise.py %*
    
A. [Optional] Create a custom ~/.ctags file containing default
   configuration settings for ctags::
    
        codewise setup
        
    This command will leave the ~/.ctags file unchanged if it
    exists.  Othewise, the ``codewise setup`` command will
    create a ~/.ctags file containing the following defaults::
    
        --exclude=*.html
        --exclude=*.css
    
    http://ctags.sourceforge.net/ctags.html#FILES for more
    details about the .ctags file.
    
B. [Optional] Delete the existing ctags database in ~/.codewise.db::
   
        codewise init
        
C. Add ctags data to the existing ctags database::

        codewise parse <path to directory>
        
   You can add data from multiple sources by running
   the ``codewise parse`` command on multiple directories.
.. @+node:ekr.20100504092040.17423: *3* Calltips
Calltips appear after you type an open parenthesis in code. Calltips shows the
expected arguments to a function or method. Calltips work for any Python
function or method, including Python's global functions. Typing Return or
Control-g (keyboard-quit) exits calltips.

Examples:

a)  'g.toUnicode('  gives 'g.toUnicode(s, encoding, reportErrors=False'
b) 'c.widgetWantsFocusNow' gives 'c.widgetWantsFocusNow(w'
c) 'reduce(' gives 'reduce(function, sequence[, initial]) -> value'

The calltips appear directly in the text and the argument list is highlighted so
you can just type to replace it. The calltips appear also in the status line for
reference after you have started to replace the args.

Options

Both autocompletion and calltips are initially enabled or disabled by the
enable_autocompleter and enable_calltips settings in leoSettings.leo. You may
enable or disable these features at any time with these commands:
enable-auto-completer-command, enable-calltips-command,
disable-auto-completer-command and disable-calltips-command.
.. @+node:ekr.20060420094611: *3* The minibuffer and minibuffer commands
The mini-buffer is a text area at the bottom of the body pane. You use it
like the Emacs mini-buffer to invoke commands by their so-called *long name*.

The ``full-command`` (Alt-x) command puts the focus in the minibuffer. Type
a full command name, then hit <Return> to execute the command. Tab
completion works, but not yet for file names. For example, to print a list
of all commands type::

    <Alt-X>print-commands<Return>
    
**Extremely important**: Like Emacs, many of Leo's commands have long-winded names.
It is **not**, repeat **not** necessary to type the entire name in the minibuffer!
Instead, you can use **tab completion** to shortcut your typing.  For example,
Suppose you want to execute the print-commands return. First, you type the first
few characters of the command, and hit the <tab> key::

    <Alt-x>pri<Tab>
    
You will see the following list of completions in the log window::

    print-all-uas
    print-bindings
    print-cmd-docstrings
    print-commands
    print-focus
    print-node-uas
    print-plugin-handlers
    print-plugins-info
    print-settings
    
The minibuffer now contains the **longest common prefix** of all the completions,
in this case::

    print-
    
So now, all you have to do is type::

    s<tab>
    
and the minibuffer will show::

    print-settings
    
Finally, execute the command by hitting the <return> key. Using tab
completion quickly becomes second nature. It saves a huge amount of typing.
More importantly, it means that not every command needs to be bound to a
keystroke in order to be conveniently available.

The ``keyboard-quit`` (Ctrl-g) commands exits any minibuffer mode and puts
the focus in the body pane. **Important**: Use ctrl-g whenever you are
unsure of what is happening.

..  The ``universal-argument`` (Alt-u) command acts like Emacs Ctrl-u.
.. It adds a repeat count for later command. Ctrl-u 999 a adds 999 a's.

The following sections list the various commands that you can invoke from
the minibuffer. **Important**: you may bind keystrokes to any of these
commands. See `Customizing Leo`_ for full details.
.. @+node:ekr.20060613062025.6: *4* Basic editing commands
Here is a list of Leo's basic editing commands with the default (EKR)
bindings shown::

    Left                back-char
    Shift-Left          back-char-extend-selection
                        back-paragraph
                        back-paragraph-extend-selection
                        back-sentence
                        back-sentence-extend-selection
                        back-to-indentation
    Alt-B or Ctrl-Left  back-word
    Alt-Shift-B         back-word-extend-selection
    Ctrl-Shift-Left     back-word-extend-selection
    BackSpace           backward-delete-char
    Shift-BackSpace     backward-delete-char
    Ctrl-BackSpace      backward-delete-word
                        backward-delete-word-smart
                        backward-kill-paragraph
                        backward-kill-sentence
                        backward-kill-word
    Ctrl-Home           beginning-of-buffer
    Ctrl-Shift-Home     beginning-of-buffer-extend-selection
    Home                beginning-of-line
    Shift-Home          beginning-of-line-extend-selection
    Ctrl-C              copy-text
    Ctrl-X              cut-text
    Delete              delete-char
    Ctrl-End            end-of-buffer
    Ctrl-Shift-End      end-of-buffer-extend-selection
    End                 end-of-line
    Shfit-End           end-of-line-extend-selection
    Alt-M               exchange-point-mark
    Ctrl-W              extend-to-word
    Right               forward-char
    Shift-Right         forward-char-extend-selection
                        forward-paragraph
                        forward-paragraph-extend-selection
                        forward-sentence
                        forward-sentence-extend-selection
    Ctrl-Right          forward-word
    Ctrl-Shift-Right    forward-word-extend-selection
    Tab                 indent-region
    Return              insert-newline
                        move-lines-down
                        move-lines-up
                        move-past-close
                        move-past-close-extend-selection
    Ctrl-J or Tab       newline-and-indent
    Down                next-line
    Shift-Down          next-line-extend-selection
    Ctrl-V              paste-text
    Up                  previous-line
    Shift-Up            previous-line-extend-selection
    Shift-Ctrl-Z        redo
    Ctrl-A              select-all
    Ctrl-Z              undo
    Shift-Tab           unindent-region
.. @+node:ekr.20060613062025.1: *4* Debugging commands
These commands are for debugging Leo itself::

    collect-garbage
    debug
    disable-gc-trace
    dump-all-objects
    dump-new-objects
    dump-outline
    enable-gc-trace
    free-tree-widgets
    print-focus
    print-gc-summary
    print-stats
    verbose-dump-objects
.. @+node:ekr.20060613062025.4: *4* Emacs commands
The following commands work just like their Emacs counterparts.
Use the help-for-command command for further details::

                add-space-to-lines
                add-tab-to-lines
                advertised-undo
                capitalize-word
                center-line
                center-region
                clean-lines
                clear-extend-mode
                clear-kill-ring
                clear-rectangle
                clear-selected-text
                count-pages
                count-region
                dabbrev-completion
                dabbrev-expands
                delete-comments
                delete-file
                delete-indentation
                delete-rectangle
                delete-spaces
                diff
                digit-argument
                downcase-region
                downcase-word
                end-kbd-macro
                escape
                eval-expression
                expand-region-abbrevs
                fill-paragraph
                fill-region
                fill-region-as-paragraph
                flush-lines
                full-command
                goto-char
                how-many
                increment-register
                indent-region
                indent-relative
                indent-rigidly
                indent-to-comment-column
                insert-body-time
                insert-file
                insert-keyboard-macro
                insert-parentheses
                insert-register
                inverse-add-global-abbrev
                jump-to-register
                keep-lines
                keyboard-quit
                kill-all-abbrevs
                kill-buffer
    Ctrl-K      kill-line
                kill-paragraph
                kill-rectangle
                kill-region
                kill-region-save
                kill-sentence
                kill-word
                line-number
                list-abbrevs
                list-buffers-alphabetically
                load-file
                macro-call
                macro-call-last
                macro-end-recording
                macro-load-all
                macro-name-last
                macro-print-all
                macro-print-last
                macro-save-all
                macro-start-recording
                make-directory
                match-bracket
                name-last-kbd-macro
                negative-argument
                number-command
                number-command-0
                number-command-1
                number-command-2
                number-command-3
                number-command-4
                number-command-5
                number-command-6
                number-command-7
                number-command-8
                number-command-9
                open-rectangle
                point-to-register
                prepend-to-buffer
                prepend-to-register
                read-abbrev-file
                rectangle-clear
                rectangle-close
                rectangle-delete
                rectangle-kill
                rectangle-open
                rectangle-string
                rectangle-yank
                register-append-to
                register-copy-rectangle-to
                register-copy-to
                register-increment
                register-insert
                register-jump-to
                register-point-to
                register-prepend-to
                register-view
                remove-blank-lines
                remove-directory
                remove-sentinels
                remove-space-from-lines
                remove-tab-from-lines
                rename-buffer
                repeat-complex-command
                reverse-region
                run-unit-tests
                select-paragraph
                set-comment-column
                set-fill-column
                set-fill-prefix
                shell-command
                shell-command-on-region
                sort-columns
                sort-fields
                sort-lines
                split-line
                start-kbd-macro
                string-rectangle
                suspend
                switch-to-buffer
                tabify
                transpose-chars
                transpose-lines
                transpose-words
                unindent-region
                universal-argument
                unmark-all
                untabify
                upcase-region
                upcase-word
                view-lossage
                what-line
    Ctrl-Y      yank
    Alt-Y       yank-pop
                zap-to-character
.. @+node:ekr.20060613062025.5: *4* Find commands
Here is a list of all of Leo's find commands. The apropos-find-commands
command will print a detailed help message discussing these commands::

                    clone-find-all
                    clone-find-all-flattened
                    find-all
    Ctrl+Key+2      find-character
    Ctrl+Shift-2    find-character-extend-selection
                    find-clone-all
                    find-clone-all-flattened
    F3              find-next
                    find-next-clone
    F2              find-prev
                    find-quick
    Ctrl+Shift+F    find-quick-selected
                    find-quick-test-failures
                    find-quick-timeline
                    find-tab-hide
                    find-tab-open
                    find-word
                    find-word-in-line
    Alt+R           isearch-backward
                    isearch-backward-regexp
    Alt+S           isearch-forward
                    isearch-forward-regexp
                    isearch-with-present-options
                    re-search-backward
                    re-search-forward
                    replace-string
                    search-again
                    search-backward
                    search-forward
    Ctrl-F          search-with-present-options
    Alt+Ctrl+E      set-find-everywhere
    Alt+Ctrl+N      set-find-node-only
    Alt+Ctrl+S      set-find-suboutline-only
                    toggle-find-collapses-nodes
    Alt+Ctrl+I      toggle-find-ignore-case-option
    Alt+Ctrl+B      toggle-find-in-body-option
    Alt+Ctrl+H      toggle-find-in-headline-option
    Alt+Ctrl+C      toggle-find-mark-changes-option
    Alt+Ctrl+F      toggle-find-mark-finds-option
    Alt+Ctrl+X      toggle-find-regex-option
    Alt+Ctrl+W      toggle-find-word-option
    Alt+Ctrl+A      toggle-find-wrap-around-option
                    word-search-backward
                    word-search-forward
.. @+node:ekr.20060613062025.9: *4* Gui commands
The following commands simulate mouse clicks, double-clicks or drags::

                    abort-edit-headline
                    activate-cmds-menu
                    activate-edit-menu
                    activate-file-menu
                    activate-help-menu
                    activate-outline-menu
                    activate-plugins-menu
                    activate-window-menu
                    add-editor
                    cascade-windows
                    click-click-box
                    click-headline
                    click-icon-box
                    close-window
                    contract-body-pane
                    contract-log-pane
                    contract-outline-pane
    Alt-Ctrl-Minus  contract-pane
    Ctrl-Shift-Tab  cycle-all-focus
                    cycle-editor-focus
                    cycle-focus
                    delete-editor
                    double-click-headline
                    double-click-icon-box
                    edit-headline
                    end-edit-headline
                    equal-sized-panes
                    expand-body-pane
                    expand-log-pane
                    expand-outline-pane
    Alt-Ctrl-Plus   expand-pane
    Alt-D           focus-to-body
                    focus-to-log
                    focus-to-minibuffer
    Alt-T           focus-to-tree
                    fully-expand-body-pane
                    fully-expand-log-pane
                    fully-expand-outline-pane
                    fully-expand-pane
                    hide-body-pane
                    hide-find-tab
                    hide-invisibles
                    hide-log-pane
                    hide-outline-pane
                    hide-pane
                    hide-spell-tab
                    iconify-frame
                    minimize-all
                    open-compare-window
                    open-find-dialog
                    open-spell-tab
                    resize-to-screen
    Shift+Next      scroll-down-half-page
                    scroll-down-line
    Next            scroll-down-page
                    scroll-outline-down-line
                    scroll-outline-down-page
                    scroll-outline-left
                    scroll-outline-right
                    scroll-outline-up-line
                    scroll-outline-up-page
    Shift+Prior     scroll-up-half-page
                    scroll-up-line
    Prior           scroll-up-page
                    simulate-begin-drag
                    simulate-end-drag
    Ctrl-T          toggle-active-pane
                    toggle-invisibles
                    toggle-split-direction
.. @+node:ekr.20060613062025.2: *4* Help commands
The following commands print various helpful messages.
Apropos commands print longer discussions of specific topics.
The help-for-command command prompts for a command name
(you can use typing completion to specify the command)
and then prints a brief description of that command::

        apropos-autocompletion
        apropos-bindings
        apropos-find-commands
        help
    F1  help-for-command
        help-for-python
        mode-help
        print-bindings
        print-commands
.. @+node:ekr.20060613062025.10: *4* Mode commands
These commands put Leo into various kinds of modes.

- The enter-x-mode commands enter modes defined by \@mode nodes in leoSettings.leo
  (or in other .leo files).

- The set-command-state, set-insert-state, set-overwrite-state commands
  determine how treats unbound plain keys. Leo ignores such keys in command
  state, inserts them into the body pane in insert state, and overwrites the
  character at the cursor position in overwrite state.

- Other commands determine whether autocompletion or calltips are in effect.

- When extend mode is effect, basic editing commands that move the cursor also
  extend the selected text.
  For example, in extend mode the back-char command works the same as the
  back-char-extend-selection command.

Here is the full list of mode-related commands::

                auto-complete
    Ctrl-Space  auto-complete-force
                disable-autocompleter
                disable-calltips
                enable-autocompleter
                enable-calltips
                enter-apropos-mode
                enter-commands-mode
                enter-edit-mode
                enter-emacs-mode
                enter-extract-mode
                enter-file-mode
                enter-gui-mode
                enter-help-mode
                enter-kill-mode
                enter-modes-mode
                enter-move-outline-mode
                enter-outline-mode
                enter-quick-command-mode
                enter-toggle-find-mode
                exit-named-mode
                set-command-state
                set-extend-mode
                set-insert-state
                set-overwrite-state
                set-silent-mode
                show-calltips
                show-calltips-force
    Alt-1       toggle-autocompleter
    Alt-2       toggle-calltips
                toggle-extend-mode
                toggle-input-state
.. @+node:ekr.20060613062025.7: *4* Outline commands
The following commands invoke Leo's outline commands::

    Ctrl-`          clone-node
    Alt-Minus       contract-all
                    contract-node
    Left            contract-or-go-left
                    contract-parent
    Ctrl-Shift-C    copy-node
                    cut-node
                    de-hoist
                    delete-node
    Ctrl-]          demote
                    expand-to-level-1
                    expand-to-level-2
                    expand-to-level-3
                    expand-to-level-4
                    expand-to-level-5
                    expand-to-level-6
                    expand-to-level-7
                    expand-to-level-8
                    expand-to-level-9
                    expand-all
                    expand-and-go-right
                    expand-next-level
    Alt-}           expand-node
                    expand-or-go-right
                    expand-prev-level
                    go-back
                    go-forward
                    goto-first-node
                    goto-first-sibling
                    goto-last-node
                    goto-last-sibling
                    goto-last-visible
                    goto-line
                    goto-line-number
                    goto-next-changed
                    goto-next-clone
                    goto-next-marked
                    goto-next-node
                    goto-next-sibling
                    goto-next-visible
                    goto-parent
                    goto-prev-node
                    goto-prev-sibling
                    goto-prev-visible
                    hoist
                    insert-node
    Ctrl-M          mark
                    mark-changed-items
                    mark-subheads
    Ctrl+D          move-outline-down
    Shift+Down      move-outline-down
    Alt+Shift+Down  move-outline-down
    Shift+Left      move-outline-left
    Alt+Shift+Left  move-outline-left
    Shift+Right     move-outline-right
    Alt+Shift+Up    move-outline-up
    Ctrl+U          move-outline-up
                    outline-to-CWEB
                    outline-to-noweb
                    paste-node
                    paste-retaining-clones
    Ctrl-[          promote
                    sort-children
    Alt-A           sort-siblings
.. @+node:ekr.20060613062025.8: *4* Miscellaneous commands
Here are various miscellaneous minibuffer commands::

    about-leo
    add-comments
    check-all-python-code
    check-outline
    check-python-code
    clear-recent-files
    convert-all-blanks
    convert-all-tabs
    convert-blanks
    convert-tabs
    execute-script
    export-headlines
    exit-leo
    extract
    extract-names
    extract-section
    flatten-outline
    goto-global-line
    import-at-file
    import-at-root
    import-cweb-files
    import-derived-file
    import-flattened-outline
    import-noweb-files
    insert-headline-time
    new
    open-leoDocs-leo
    open-leoPlugins-leo
    open-leoSettings-leo
    open-offline-tutorial
    open-online-home
    open-online-tutorial
    open-outline
    open-outline-by-name
    open-python-window
    open-with
    open-with-idle
    open-with-word
    open-with-wordpad
    pretty-print-all-python-code
    pretty-print-python-code
    read-at-file-nodes
    read-outline-only
    reformat-paragraph
    revert
    save-buffers-kill-leo
    save-file
    save-file-as
    save-file-to
    settings
    set-colors
    set-font
    show-colors
    show-find-options
    show-fonts
    show-invisibles
    spell-change
    spell-change-then-find
    spell-find
    spell-ignore
    toggle-angle-brackets
    weave
    write-abbrev-file
    write-at-file-nodes
    write-dirty-at-file-nodes
    write-missing-at-file-nodes
    write-outline-only
.. @+node:EKR.20040524104904.100: *3* The File Menu
.. @+node:EKR.20040524104904.101: *4* Loading, Saving and Reverting Files
-   The New command creates a new Leo main window.

-   The Open command opens an existing Leo file and shows it in a main window.

-   The Close command closes the topmost Leo window,
    giving you an opportunity to save your work if you haven't yet done so.

-   The Save, Save As and Save To commands save the Leo window to a file.
    The Save As command changes the name of the outline being edited;
    the Save To command does not.

    The Save File As Zipped command is the same as the
    Save As command except that the resulting .leo file is compressed with Python's zipfile module.
    Similarly, the Save File As Unzipped command is the same as the Save As command
    except that the resulting .leo file is not compressed.
    The Save, Save As and Save To commands compress the file if it was originally compressed.
    **Note**: Leo writes files with .leo extension, regardless of whether the file is zipped or not.
    Zipped .leo files contain a single archive, whose name is the same as the .leo file itself.
    Outside of Leo you can change the extension to .leo.zip and use stuffit or other program to expand the .leo file
    contained within.

-   The Revert command reloads a file, discarding any changes made to the file since it was last saved.

-   The Recent Files command brings up a submenu containing a list of recently
    opened files. Choosing an item in this submenu opens the selected file or brings
    it to the front.

-   The Clear Recent Files command deletes all entries in the Recent
    Files submenu except the most recent file. The files themselves are not
    affected, just the menu entries.

The following commands are located in the Read/Write menu, part of the File
menu.

-   The Read Outline Only command reads an outline using only the .leo file, not any files derived
    from @file nodes. This command is useful for reverting a project to a
    previously saved state.

-   The Read @file Nodes command updates all @file nodes in an outline.
    This ensures that the state of an outline matches all files derived
    from @file nodes. 

-   The Write Outline Only command saves an outline without writing any @file
    trees. Useful for inserting an @file node into an outline without modifying a
    external file with the same name.

-   The Write @file Nodes command forces an update of all @file trees.

-   The Write Dirty @file Nodes command writes all @file trees that have been changed.
.. @+node:EKR.20040524104904.102: *4* Communicating with external editors
The Open With command allows you to communicate with external editor. When
you select this command Leo creates a temporary file and invokes an external
program. Leo periodically checks whether this temporary file has changed; Leo
changes the corresponding node in the outline if so. You must create the entries
in the Open With submenu. This would typically be done in a hook routine, using
the createOpenWithMenuFromTable routine described in the child of this node. The
@file mod_open_with.py node in LeoPlugins.leo gives a complete example
of handling the Open With menu.
.. @+node:EKR.20040524104904.108: *4* Importing Files into Leo Outlines
The Import File command imports a file in various ways depending on the
contents of the file. For plain files, the command creates an \@file node.
If the file looks like an external file written by Leo, the import command
will recreate the outline structure based on the sentinels in the file.
This command can also read files writting in MORE outline format.
.. @+node:EKR.20040524104904.109: *4* Exporting Files from Leo Outlines
-   The Outline To CWEB command creates a `CWEB`_ file from the selected outline.

-   The Outline TO noweb command creates a `noweb`_ file from the selected outline.

-   The Flatten Outline command creates a text file in MORE format from the selected outline.
    See the previous section for a discussion of MORE format.

-   The Remove Sentinels command removes all sentinel lines from a file derived from an @file node.

-   The Weave Command formats the selected text and writes it to a file.
.. @+node:EKR.20040524104904.110: *4* Quitting Leo
The Quit command causes Leo to exit. You may also exit Leo by closing the
main window. You will be prompted to save any file that has been altered but not
saved.
.. @+node:EKR.20040524104904.111: *3* The Edit Menu
.. @+node:EKR.20040524104904.112: *4* Undoing changes
Leo supports unlimited undo and redo. Think of actions that may be undone or
redone as a string of beads. A "bead pointer" points to the present bead.
Performing an operation creates a new bead after the present bead and removes
all following beads. Undoing an operation moves the bead pointer backwards;
redoing an operation moves the bead pointer forwards. The Undo command is
disabled when the bead pointer moves in front of the first bead; the Redo
command is disabled when the bead pointer points to the last bead.
.. @+node:EKR.20040524104904.113: *4* Cutting, pasting and selecting text
Leo supports the standard editing commands: Cut, Copy, Paste,
Clear and Select All. These commands work with either headline or body
text.
.. @+node:EKR.20040524104904.114: *4* Shifting body text
The Shift Left and Shift Right commands shift selected lines in the body
text left or right one tab position. These commands shift the entire line if any
characters in that line are selected.
.. @+node:ekr.20050313102319: *4* Adding and deleting comments in body text
-   The Add Comments command puts comments around a block of code.
    This command uses single-line comments if possible.

-   The Delete Comments command deletes the comments specified by the Add Comments command.
.. @+node:EKR.20040524104904.115: *4* Creating nodes from body text
The Extract, Extract Section and Extract Section Names commands create child nodes whose headline is the first line of the selected body text.

-   The Extract command creates a new node whose headline is the first line of selected body text and
    whose body is all other lines of selected text.
    Previously selected text is deleted from the original body text. 

-   The Extract Section command creates a new node whose headline is the first line of selected text and
    whose body is @code followed by all the other lines of selected text.
    All selected text lines except the first line are deleted from the original body text.
    This command is enabled only if the first line contains nothing but section name.

-   The Extract Section Names command creates one or more child nodes,
    one for each section name in the selected body text.
    The headline of each created node is the section name; the body text is @code followed by a newline.
.. @+node:EKR.20040524104904.116: *4* Converting leading blanks and tabs in body text
-   The Convert Tabs command converts leading tabs to blanks in a single node.
-   The Convert Blanks command converts blanks to tabs in a single node.
-   The Convert All Tabs converts leading tabs to blanks throughout the selected tree.
-   The Convert All Blanks command converts leading blanks to tabs throughout the selected tree.

All these commands convert between tabs and blanks using the tab width presently in effect.
.. @+node:EKR.20040524104904.117: *4* Executing Python scripts in body text
The Execute Script command executes body text as a Python script. Leo
execute the selected text, or the entire body text if no text is selected. The
Execute Script command pre-defines the values c, g and p as
follows:

- c is the commander of the outline containing the script.
- g is the leoGlobals modules.
- p is c.p, that is, c.currentPosition().

**Important**: Body text may contain Leo directives and section references. You
can now use all of Leo's features to organize scripts that you execute
interactively. Section definitions must appear in the node containing the script
or in descendant nodes.

Leo preprocesses all scripts by simulating the writing of a external file to a
string. The Execute Script command sets app.scriptDict["script1"] to the
value of the script before preprocessing, and sets app.scriptDict["script2"]
to the value of the script after preprocessing. Scripts may examine and change
app.scriptDict as they please.
.. @+node:EKR.20040524104904.118: *4* Finding and changing text
The following check boxes options appear in the search dialog and control the operations of the find and change commands.

Clone Find All
    When checked, the the Find All command creates a new root node called Found: *<your search pattern>*.
    This node contains clones of the nodes found by the Find All command.
    It is your responsibility to navigate to this new node and to clean it up when it's no longer needed.

Ignore Case
    When checked, the Find and Change commands ignore the case of alphabetic characters when determining matches.

Mark Changes
    When checked, the Change command marks all headlines whose headline or body text are changed by the command.

Mark Matches
    When checked, the Find and Change commands mark all headlines in which a match is found with the pattern.

Pattern Match
    When checked, the Find and Change commands treat several characters specially in the find pattern.

    - '*'  matches any sequence of zero or more characters.
    - '.'  matches any single character.
    - '^'  matches a newline at the start of a pattern.
    - '$'  matches a newline at the end of a pattern.

Examples::

    "^abc$" matches lines that only contain "abc".
    "^a" matches any line starting with "A".
    "a$" matches any line ending with "a".
    "^*$" matches any line at all.

Reverse
    When checked, the Find and Change commands search backward through the file.

Search Body Text
    When checked, the Find and Change commands search body text.

Search Headline Text
    When checked, the Find and Change commands search headline text.

Show Context
    When checked, the Find All command shows additional context information when printing matches.

Suboutline Only
    When checked, the Find and Change commands search only the currently selected headline and its offspring.

Whole Word
    When checked, the find pattern must match an entire word.
    Words consist of an alphabetic character or underscore, followed by zero or more
    alphabetic characters, numbers or underscores.

Wrap Around
    When checked, the Find and Change commands continues at the top of the file when
    the command reaches the bottom of the file.
    For reverse searches, the find or change command continues at the bottom of the file when
    the command reaches the top of the file.
.. @+node:EKR.20040524104904.134: *4* Go To Line Number
The Go To Line Number command selects the locations in your outlines corresponding to a line in a external file.
.. @+node:EKR.20040524104904.136: *4* Inserting the date and time
The Insert Body Time/Date and Insert Headline Time/Date commands insert
formatted time and date into body or headline text. You must be editing a
headline to be able to insert the time/date into the headline.
The  body_time_format_string and headline_time_format_string settings
specify the format of the inserted text. These settings are the format string
passed to time.strftime. For a complete list of the format options see
http://www.python.org/doc/current/lib/module-time.html
If the format specified by either of these two settings is erroneous the
"%m/%d/%Y %H:%M:%S" format is used by default, resulting in a time/date
format like::

    1/30/2003 8:31:55
.. @+node:EKR.20040524104904.137: *4* Reformatting paragraphs in body text
The Reformat Paragraph command rearranges the words in a text
paragraph to fill each line as full as possible, up to the \@pagewidth
setting. A paragraph is delimited by blank lines, Leo directives, and
(of course) start and end of text in a node. The width of the line
used by the reformatting operation is governed by @pagewidth and the
indentation that would be applied to the node when Leo writes the
file.

The command operates on the paragraph containing the insert cursor. If the
insert cursor is on a blank line or directive, nothing happens. If the cursor is
on a line containing text, then the paragraph containing that text line is
reformatted and the insert cursor is moved to the next paragraph.

**Note**: Hanging indentation is preserved. This is most useful for bulleted or
numbered lists, such as::

  1. This is the first paragraph,
     and it has a hanging indentation.

  2. This is the second paragraph,
     and it too has a hanging indentation.
.. @+node:EKR.20040524104904.139: *4* Matching brackets and parenthesis
The Match Brackets command is enabled if the cursor is next to one of the
following characters in the body pane:

    ( ) [ ] { } < >

This command looks for the matching character, searching backwards through the
body text if the cursor is next to `)` `]` `}` or `>` and searching forward through the
text otherwise. If the cursor is between two brackets the search is made for the
bracket matching the leftmost bracket. If a match is found, the entire range of
characters delimited by the brackets is highlighted and the cursor is placed
just to the left of the matching characters. Thus, executing this command twice
highlights the range of matched characters without changing the cursor.
.. @+node:EKR.20040524104904.143: *3* The Outline Menu
.. @+node:EKR.20040524104904.144: *4*  Checking outlines
-   The Check Outline command checks the outline for consistency.

-   The Check All Python Code and Check Python Code commands report any syntax errors or tabnanny errors.
    These commands mark erroneous nodes and ignore any nodes for which:

        - @ignore is in effect or
        - @language python is in not effect.

-   The Check Python Code and Pretty Print Python Code pretty print body text.
    You can customize this code by overriding the following methods of class prettyPrinter in leoCommands.py::

        putOperator:      puts whitespace around operators.
        putNormalToken:   puts whitespace around everything else.
.. @+node:EKR.20040524104904.145: *4*  Creating & cloning nodes
-   The Insert Headline command inserts a new headline after the presently selected headline,
    either as the next sibling or the first child of the presently selected headline
    if the presently selected headline has children and is expanded.

-   The Clone Node creates a clone of the selected node.
    See `Clones and views`_ for full details about clones.
.. @+node:EKR.20040524104904.146: *4*  Cutting, pasting and deleting nodes
-   The Cut Outline and Copy Outline commands copy a text
    representation of the outline to the clipboard. This representation is the same
    as the file format with some information deleted.

-   The Paste command (in the Edit menu) copies this representation into the *body* pane.

-   The Paste Node As Clone command pastes the node from the clipboard, retaining the
    identity of nodes.  Thus, if the pasted node already exists in the outline the newly
    pasted node will become of a clone of the already-existing node.

-   The Paste Outline command creates nodes with new identities (new gnx's).
.. @+node:EKR.20040524104904.147: *4*  Expanding and contracting nodes
-   The Expand command expands the currently selected node so that all its children are visible.
-   The Expand All Subheads command expands the currently selected node so that all its offspring are visible.
-   The Expand All command expands all the nodes of the entire tree.
-   The Contract Parent contracts the selected node's parent and selects the parent node.
.. @+node:EKR.20040524104904.149: *4*  Marking nodes
- The Mark Headline command marks a headline with a red marker near the leader
  characters.

- The Unmark Headline command removes such a mark.

- The Mark Subheads command marks all offspring of the currently selected node.

- The Unmark All command removes the marks from the entire tree.

- The Mark Changed Items command marks all headlines whose headline or body text
  has been changed since the file was last saved.
.. @+node:EKR.20040524104904.150: *4*  Moving, sorting and reorganizing nodes
-   The Move Up, Move Down, Move Left and Move Right commands move the currently selected node.

-   The Promote command makes all the children of a node siblings of the node.

-   The Demote command makes all the siblings that follow a node children of the node.

-   The Sort Children command sorts all children of the present node in alphabetical order of their headlines.

-   The Sort Siblings command sorts all siblings of the present node in alphabetical order.
.. @+node:EKR.20040524104904.148: *4*  Hoisting & De-hoisting nodes
-   The Hoist command redraws the screen so presently selected tree becomes the only visible part of the outline.
    Hoist commands may be nested.  

-   The De-hoist command restores the outline.
.. @+node:EKR.20040524104904.151: *3* The Window Menu
-   The Equal Sized Panes command adjusts the sizes of the outline and body
    panes so that they are the same height.
-   The Cascade command cleans up the screen by cascading all Leo windows.
-   The Minimize All command minimizes all Leo windows.
-   The Toggle Active Pane command toggles keyboard focus between the outline and body panes.
-   The Toggle Split Direction command switches between vertical and horizontal
    orientations of the Leo window. In the vertical orientation, the body pane
    appears below the pane containing the outline and log panes. In the horizontal
    orientation, the body pane appears to the left the pane containing the outline
    and log panes. By default, the ratio of pane outline pane to the body pane is
    0.5 in the vertical orientation and 0.3 in the horizontal orientation. These two
    ratios may be changed using settings.
-   The Open Compare Window command opens a dialog that allows you to compare
    two files, one containing sentinels and one not.
.. @+node:EKR.20040524104904.157: *3* The Help Menu
-   The About Leo command puts up a dialog box showing the version of Leo.
-   The Online Home Page command opens Leo's home page at http://webpages.charter.net/edreamleo/front.html.
-   The Open Online Tutorial command opens Joe Orr's excellent ScreenBook tutorial at
    http://www.evisa.com/e/sbooks/leo/sbframetoc_ie.htm.
-   The Open Offline Tutorial command opens the file sbooks.chm if it exists.
    Otherwise, you will be asked whether you want to download it from Leo's SourceForge web site.
    If you say yes, the page http://sourceforge.net/project/showfiles.php?group_id=3458 will open.
    You may then download sbooks.sbm to the folder containing leo.py.
-   The Open LeoDocs.leo command opens LeoDocs.leo.
-   The Open LeoPlugins.leo command opens LeoPlugins.leo.
-   The Open LeoSettings.leo command opens LeoSettings.leo.

.. @-all
.. @-leo
