<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="Docutils 0.5: http://docutils.sourceforge.net/" />
<title>Chapter 22: Using Vim Bindings with Leo</title>
<style type="text/css">

/*ORIGINAL GOODGER + changes; up to line 224 it's standard reST stylesheet
:Author: David Goodger
:Contact: goodger@users.sourceforge.net
:date: $Date: 2006/10/19 13:23:15 $
:version: $Revision: 1.2 $
:copyright: This stylesheet has been placed in the public domain.

Default cascading style sheet for the HTML output of Docutils.
*/

/* EKR 10/19/06 */
/* some browsers require imported rules to precede all rulesets */
@import url(leo_rst.css);
@import url(silver_city.css);

.first {
  margin-top: 0 }

.last {
  margin-bottom: 0 }

a.toc-backref {
  text-decoration: none ;
  color: black }

dd {
  margin-bottom: 0.5em }

div.abstract {
  margin: 2em 5em }

div.abstract p.topic-title {
  font-weight: bold ;
  text-align: center }

div.attention, div.caution, div.danger, div.error, div.hint,
div.important, div.note, div.tip, div.warning, div.admonition {
  margin: 2em ;
  border: medium outset ;
  padding: 1em }

div.attention p.admonition-title, div.caution p.admonition-title,
div.danger p.admonition-title, div.error p.admonition-title,
div.warning p.admonition-title {
  color: red ;
  font-weight: bold ;
  font-family: sans-serif }

div.hint p.admonition-title, div.important p.admonition-title,
div.note p.admonition-title, div.tip p.admonition-title,
div.admonition p.admonition-title {
  font-weight: bold ;
  font-family: sans-serif }

div.dedication {
  margin: 2em 5em ;
  text-align: center ;
  font-style: italic }

div.dedication p.topic-title {
  font-weight: bold ;
  font-style: normal }

div.figure {
  margin-left: 2em }

div.footer, div.header {
  font-size: smaller }

div.sidebar {
  margin-left: 1em ;
  border: medium outset ;
  padding: 0em 1em ;
  background-color: #ffffee ;
  width: 40% ;
  float: right ;
  clear: right }

div.sidebar p.rubric {
  font-family: sans-serif ;
  font-size: medium }

div.system-messages {
  margin: 5em }

div.system-messages h1 {
  color: red }

div.system-message {
  border: medium outset ;
  padding: 1em }

div.system-message p.system-message-title {
  color: red ;
  font-weight: bold }

div.topic {
  margin: 2em }

h1.title {
  text-align: center }

h2.subtitle {
  text-align: center }

ol.simple, ul.simple {
  margin-bottom: 1em }

ol.arabic {
  list-style: decimal }

ol.loweralpha {
  list-style: lower-alpha }

ol.upperalpha {
  list-style: upper-alpha }

ol.lowerroman {
  list-style: lower-roman }

ol.upperroman {
  list-style: upper-roman }

p.attribution {
  text-align: right ;
  margin-left: 50% }

p.caption {
  font-style: italic }

p.credits {
  font-style: italic ;
  font-size: smaller }

p.label {
  white-space: nowrap }

p.rubric {
  font-weight: bold ;
  font-size: larger ;
  color: maroon ;
  text-align: center }

p.sidebar-title {
  font-family: sans-serif ;
  font-weight: bold ;
  font-size: larger }

p.sidebar-subtitle {
  font-family: sans-serif ;
  font-weight: bold }

p.topic-title {
  font-weight: bold }

pre.address {
  margin-bottom: 0 ;
  margin-top: 0 ;
  font-family: serif ;
  font-size: 100% }

pre.line-block {
  font-family: serif ;
  font-size: 100% }

pre.literal-block, pre.doctest-block {
  margin-left: 2em ;
  margin-right: 2em ;}
  /*background-color: #eeeeee }*/
  /*for some reason i can't overide in an import*/

span.classifier {
  font-family: sans-serif ;
  font-style: oblique }

span.classifier-delimiter {
  font-family: sans-serif ;
  font-weight: bold }

span.interpreted {
  font-family: sans-serif }

span.option {
  white-space: nowrap }

span.option-argument {
  font-style: italic }

span.pre {
  white-space: pre }

span.problematic {
  color: red }

table {
  margin-top: 0.5em ;
  margin-bottom: 0.5em }

table.citation {
  border-left: solid thin gray ;
  padding-left: 0.5ex }

table.docinfo {
  margin: 2em 4em }

table.footnote {
  border-left: solid thin black ;
  padding-left: 0.5ex }

td, th {
  padding-left: 0.5em ;
  padding-right: 0.5em ;
  vertical-align: top }

th.docinfo-name, th.field-name {
  font-weight: bold ;
  text-align: left ;
  white-space: nowrap }

h1 tt, h2 tt, h3 tt, h4 tt, h5 tt, h6 tt {
  font-size: 100% }

/*for some reason, the following isn't being overridden by the imports
at the end of this style sheet so I've commented it out*/
/*tt {
  background-color: #eeeeee }*/

ul.auto-toc {
  list-style-type: none }
  
hr { /* EKR */
  width: 100%;
  height: 1pt;
  color: gray;
}



</style>
</head>
<body>
<div class="document">


<!-- rst3: filename: html\vimBindings.html -->
<!-- June 11, 2008 -->
<p><a class="reference external" href="IPythonBridge.html"><img alt="back" src="arrow_lt.gif" /></a> <a class="reference external" href="front.html"><img alt="leo" src="leo.gif" /></a> <a class="reference external" href="appendices.html"><img alt="next" src="arrow_rt.gif" /></a></p>
<div class="section" id="chapter-22-using-vim-bindings-with-leo">
<h1><a class="toc-backref" href="#id1">Chapter 22: Using Vim Bindings with Leo</a></h1>
<p>This chapter describes Leo's vim-like bindings, including how to install them.</p>
<div class="contents topic" id="contents">
<p class="topic-title first">Contents</p>
<ul class="simple">
<li><a class="reference internal" href="#chapter-22-using-vim-bindings-with-leo" id="id1">Chapter 22: Using Vim Bindings with Leo</a><ul>
<li><a class="reference internal" href="#installing-vim-bindings" id="id2">Installing vim bindings</a></li>
<li><a class="reference internal" href="#general-commands" id="id3">General commands</a></li>
<li><a class="reference internal" href="#body-pane-commands" id="id4">Body pane commands</a></li>
<li><a class="reference internal" href="#outline-commands" id="id5">Outline commands</a></li>
<li><a class="reference internal" href="#not-supported-vi-commands" id="id6">Not supported vi commands</a></li>
</ul>
</li>
</ul>
</div>
<!-- Links -->
<!-- .. _`Chapter 7\: Scripting Leo with Python`:    scripting.html -->
<!-- WARNING: image targets may not have upper case letters! -->
<div class="section" id="installing-vim-bindings">
<h2><a class="toc-backref" href="#id2">Installing vim bindings</a></h2>
<p>To install vim bindings, move the node in leoSettings.leo called &quot;Vim bindings by TL&quot;
so that it is not a descendant of the &quot;&#64;ignore Unused key bindings&quot; node.
Then restart Leo.</p>
</div>
<div class="section" id="general-commands">
<h2><a class="toc-backref" href="#id3">General commands</a></h2>
<p>The following commands are always available.</p>
<p>State change commands:</p>
<pre class="literal-block">
i           Change state to insert from command state
Esc         Change state to command from insert state
Ctrl-[      Same as ESC
</pre>
<p>Save/Exit/Quite commands:</p>
<pre class="literal-block">
:e          Revert
:w&lt;return&gt;  Save '.leo' file
:wq&lt;return&gt; Save '.leo' file and quit Leo
:q&lt;return&gt;  Quit Leo   (Leo will prompt if file not saved)
ZZ          Save leo file and exit
</pre>
<p>Undo/Redo commands:</p>
<pre class="literal-block">
u           Undo previous command
Ctrl-r      Redo previous command
</pre>
<p>Miscellaneous commands:</p>
<pre class="literal-block">
Tab         Toggle focus between Outline and Body pane
=           Simulate double-click on current node's icon box
Alt-G       Go to specified line number (relative to derived file)
Ctrl-:      Enter Leo's command line
</pre>
</div>
<div class="section" id="body-pane-commands">
<h2><a class="toc-backref" href="#id4">Body pane commands</a></h2>
<p>Move cursor commands:</p>
<pre class="literal-block">
h           Go back 1 character
   LtArrow  Mapped to &quot;h&quot; for convenience
j           Go down 1 line
   DnArrow  Mapped to &quot;j&quot; for convenience
k           Go up 1 line
   UpArrow  Mapped to &quot;k&quot; for convenience
l           Go forward 1 character
   RtArrow  Mapped to &quot;l&quot; for convenience

w           Go to the next word (stop at non-alpha characters)
   W        Mapped to &quot;w&quot; until &quot;stop after blank characters&quot; supported
b           Go to beginning of word (stop at non-alpha characters)
   B        Mapped to &quot;b&quot; until &quot;stop at blank character&quot; supported
e           Go to end of word (stop at non-alpha characters)
   E        Mapped to &quot;e&quot; until &quot;stop at blank character&quot; supported

|           Goto beginning of current line
^           Go to 1st non-blank character on current line
$           Goto end of current line

(           Go to beginning of current sentence
)           Go to beginning of next sentence
{           Go to beginning of current paragraph
}           Go to beginning of next paragraph

%           Go to matching bracket

gg          Go to the first line (Cursor at column 1)
G           Go to the last line  (Cursor at column 1)

`.          Go to location of last edit (regardless of buffer)
'.          Go to beginning of line of last edit (regardless of buffer)
</pre>
<p>Mark commands:</p>
<pre class="literal-block">
Only character count is tracked. Any inserts or deletes will change mark.
Node is not tracked.  Go to mark will go to location in current node.

m&lt;label&gt;    Assign cursor location to a single character label
`&lt;label&gt;    Go to location associated with label
</pre>
<p>Insert/substitute commands:</p>
<pre class="literal-block">
a           Insert at cursor
i           Mapped to &quot;a&quot; until &quot;cursor on a character&quot; supported
A           Insert at end of line
I           Insert at first non-space
o           Open new line below current line
O           Open new line above current line
R           Overwrite text
s           Substitute character (Delete character, enter insert state)
S           Substitute line (Delete line, enter insert state)
</pre>
<p>Change commands:</p>
<pre class="literal-block">
C           Change to end of line
cc          Change all of current line
cw          Change to end of word
cb          Change to beginning of word
c)          Delete to end of sentence
c(          Delete to beginning of sentence
c}          Delete to end of paragraph
c{          Delete to beginning of paragraph
c%          Change from current bracket type its matching bracket type
ct&lt;char&gt;    Selects forward to &lt;char&gt; (follow with 'i' to change selection)
cT&lt;char&gt;    Selects backward to &lt;char&gt; (follow with 'i' to change selection)
c&lt;cr&gt;       Change selected text
</pre>
<p>Delete commands:</p>
<pre class="literal-block">
x           Delete next character
delete      Delete next character
D           Delete to the end of the current line
dd          Delete current line
dw          Delete to end of word
db          Delete to beginning of word
d)          Delete to end of sentence
d(          Delete to beginning of sentence
d}          Delete to end of paragraph
d{          Delete to start of paragraph
d%          Delete from current bracket type to its apposing bracket
dt&lt;ch&gt;      Delete to character (not limited to current line)
d&lt;cr&gt;       Delete selected text

J           Join next line to end of current line (deletes carriage return)
</pre>
<p>Yank text commands:</p>
<pre class="literal-block">
Y           Yank to end of line
yy          Yank line
yw          Yank to beginning of next word
yb          Yank to beginning of current word
y)          Yank to end of sentence
y(          Yank to beginning of sentence
y}          Yank to end of paragraph
y{          Yank to beginning of paragraph
y%          Yank from current bracket type to its opposing bracket
yt&lt;char&gt;    Select forward to &lt;char&gt;  (use 'y&lt;cr&gt;' to yank selection)
yT&lt;char&gt;    Select backward to &lt;char&gt; (use 'y&lt;cr&gt;' to yank selection)

v           Toggle text select mode (Vim's &quot;visual&quot; mode)
y&lt;cr&gt;       Yank selected text (Vim uses 'y' in visual mode)
</pre>
<p>Find character commands:</p>
<pre class="literal-block">
f           Find next occurrence of user specified character
F           Find previous occurrence of user specified character
</pre>
<p>Find text commands:</p>
<pre class="literal-block">
/           Search forward within current node's body text
?           Search backward within current node's body text
n           Find next (same scope, same direction)
N           Find next (same scope, other direction)
Ctrl-/      Change scope to search all nodes in outline (Forward only)
</pre>
<p>Replace [and find next] commands:</p>
<pre class="literal-block">
Commands using Paste buffer (clipboard)
p           Paste text before cursor.
P           Mapped to &quot;P&quot; until character based cursor supported.
Ctrl-p      Paste then find next match
            Note: Use 'pn' instead of 'Ctrl-p' in headlines (Leo limitation)
                  Command will continue to paste regardless of success of the search.

Commands prompting for replace string
Note: Scope and search direction taken from last use of '/','?' or 'Ctrl-/'(scope only)
Alt-/       Prompt for search &amp; replace string
Alt-p       Replace then search (use after Alt-/)
            Note: Works in headlines and body panes.
                  Doesn't paste unless last search found a match.
</pre>
<p>Indent line commands:</p>
<pre class="literal-block">
&gt;&gt;          Indent the current line
&gt;)          Indent to the end of sentence
&gt;(          Indent to the beginning of sentence
&gt;}          Indent to the end of paragraph
&gt;{          Indent to the beginning of paragraph
&gt;g          Indent to the start of buffer
&gt;G          Indent to the end of buffer
&lt;&lt;          Remove all indentation on the current line
&lt;)          Remove all indentation to the end of sentence
&lt;(          Remove all indentation to the beginning of sentence
&lt;}          Remove all indentation to the end of paragraph
&lt;{          Remove all indentation to the beginning of paragraph
</pre>
<p>Scroll commands:</p>
<pre class="literal-block">
Ctrl-b      Scroll text up by pane's height
Ctrl-f      Scroll text down by pane's height
   Ctrl-y   Mapped to Ctrl-b until scroll up one line is supported
   Ctrl-e   Mapped to Ctrl-f until scroll down one line is supported
   Ctrl-u   Mapped to Ctrl-b until scroll up half a pane height is supported
   Ctrl-d   Mapped to Ctrl-f until scroll down half a pane height is supported
</pre>
<p>Window commands:</p>
<pre class="literal-block">
Ctrl-w s    Open another view into current node's body (Vim: Split window)
   Ctrl-w n Mapped to &quot;Ctrl-w s&quot; (Vim: New buffer in split window)
Ctrl-w w    Switch to next view (Vim: Go to up/left window w/wrapping)
   Ctrl-w p Mapped to &quot;Ctrl-w w&quot; (Vim: Cycle through windows)
   Ctrl-w k Mapped to &quot;Ctrl-w w&quot; (Vim: Go to window above current window)
   Ctrl-w j Mapped to &quot;Ctrl-w w&quot; (Vim: Go to window below current window)
Ctrl-w c    Close current view in body pane (Vim: Close current window)
   Ctrl-w q Mapped to &quot;Ctrl-w c&quot; (Vim: Quit current window)
</pre>
<p>Node commands:</p>
<pre class="literal-block">
Ctrl-j      Go to next visible node
Ctrl-k      Go to previous visible node
Ctrl-h      Hide sub-nodes or, if hidden, go up 1 level
Ctrl-l      Display sub-nodes or, if displayed, go down 1 level

   Ctrl-DnArrow  Mapped to &quot;Ctrl-j&quot; for convenience
   Ctrl-UpArrow  Mapped to &quot;Ctrl-k&quot; for convenience
   Ctrl-LtArrow  Mapped to &quot;Ctrl-h&quot; for convenience
   Ctrl-RtArrow  Mapped to &quot;Ctrl-l&quot; for convenience
</pre>
</div>
<div class="section" id="outline-commands">
<h2><a class="toc-backref" href="#id5">Outline commands</a></h2>
<p>The following commands are supported when in a headline's command mode.</p>
<p>State change commands:</p>
<pre class="literal-block">
Ctrl-i      Change state to command from grayed state
return      Change state to command from insert state
Ctrl-]      Change state to grayed from command state
</pre>
<p>Headline cursor movement commands:</p>
<pre class="literal-block">
|           Go to Beginning of line
$           Go to end of line
%           Go to matching bracket
e           Go to end of word (stop at non-alpha characters)
E           Select to end of word
w           Go to beginning of next word
W           Select to beginning of next word

h           Go to previous character
   LtArrow  Mapped to 'h' for convenience
l           Go to next character
   RtArrow  Mapped to &quot;l&quot; for convenience
</pre>
<p>Headline edit commands:</p>
<pre class="literal-block">
x           Delete next character
delete      Delete next character
dd          kill-line

s           Select current character

v           Toggle text select mode (issue cursor movement commands)
y&lt;return&gt;   Yank selected text

C           Select to end of line (follow with 'i' to change text)
cc          Delete line (follow with 'i' to change text)

D           Select to end of line (follow with 'x' to delete text)
dd          Delete line

Y           Select to end of line (follow with 'y&lt;return&gt;' to yank text)
yy          Select line (follow with 'y&lt;return&gt;' to yank text)
</pre>
<p>Headline find character commands:</p>
<pre class="literal-block">
f           Find next occurrence of user specified character
F           Find previous occurrence of user specified character
</pre>
<p>Headline find text commands:</p>
<pre class="literal-block">
/           Search forward within current node and its subnodes
n           Find next (same scope, same direction)
N           Find next (same scope, other direction)
Ctrl-/      Change scope to search all nodes in outline (Forward only)
</pre>
<p>Headline replace [and find next] commands:</p>
<pre class="literal-block">
Commands that use Paste buffer (clipboard)
Note: Paste-then-search command not possible in headlines (Use 'pn')
p           Paste text before cursor.
P           Mapped to &quot;P&quot; until character based cursor supported.

Commands that prompt for the replace string
Alt-/       Prompt for search &amp; replace string
Alt-p       Replace then search (use after Alt-/)
            Note: Works in headlines and body panes.
                  Doesn't paste unless last search found a match.
</pre>
<p>Node edit commands:</p>
<pre class="literal-block">
Ctrl-o      Insert node after current node

Ctrl-x      Delete current node
Ctrl-c      Yank current node
Ctrl-v      Paste current node
</pre>
<p>Node goto commands:</p>
<pre class="literal-block">
G           Go to the outline's last node
gg          Go to the outline's first node

Ctrl-j      Go to next visible node
Ctrl-k      Go to previous visible node
Ctrl-h      Hide sub-nodes or, if hidden, go up 1 level
Ctrl-l      Display sub-nodes or, if displayed, go down 1 level

   j        Mapped to &quot;Ctrl-j&quot; for convenience
   DnArrow  Mapped to &quot;Ctrl-j&quot; for convenience
   k        Mapped to &quot;Ctrl-k&quot; for convenience
   UpArrow  Mapped to &quot;Ctrl-k&quot; for convenience

   Ctrl-DnArrow Mapped to &quot;Ctrl-j&quot; for convenience
   Ctrl-UpArrow Mapped to &quot;Ctrl-k&quot; for convenience
   Ctrl-LtArrow Mapped to &quot;Ctrl-h&quot; for convenience
   Ctrl-RtArrow Mapped to &quot;Ctrl-l&quot; for convenience
</pre>
<p>Node move commands:</p>
<pre class="literal-block">
Shift-Ctrl-k    Move node down
Shift-Ctrl-h    Move node left
Shift-Ctrl-l    Move node right
Shift-Ctrl-j    Move node up

   Shift-Ctrl-DnArrow    Mapped to &quot;Shift-Ctrl-k&quot; for convenience
   Shift-Ctrl-LtArrow    Mapped to &quot;Shift-Ctrl-h&quot; for convenience
   Shift-Ctrl-RtArrow    Mapped to &quot;Shift-Ctrl-l&quot; for convenience
   Shift-Ctrl-UpArrow    Mapped to &quot;Shift-Ctrl-j&quot; for convenience
</pre>
<p>Node mark commands:</p>
<pre class="literal-block">
m           Toggle node mark
Ctrl-m      Go to next marked node
Alt-m       Clear all marked nodes
</pre>
<p>Node clone commands:</p>
<pre class="literal-block">
t           Clone the current node (transclude)
Ctrl-t      Go to next clone of current node
</pre>
<p>Outline scroll commands:</p>
<pre class="literal-block">
Ctrl-y       Scroll outline up one line
Ctrl-e       scroll outline down one line
    Ctrl-u    Mapped to Ctrl-y until scroll up by half a pane supported
    Ctrl-d    Mapped to Ctrl-e until scroll down by half a pane supported
    Ctrl-b    Mapped to Ctrl-y until scroll up by pane's height supported
    Ctrl-f    Mapped to Ctrl-e until scroll down by pane's height supported
</pre>
</div>
<div class="section" id="not-supported-vi-commands">
<h2><a class="toc-backref" href="#id6">Not supported vi commands</a></h2>
<p>Notable missing editing commands:</p>
<pre class="literal-block">
t&lt;char&gt;     Move cursor to character before specified character
r           Replace a single character with a single character
0           Go to 1st column in current line (Use '|' instead)
bksp        Move one character to the left
~           Toggle character's case
.           Repeat last editing command
;           Repeat last cursor movement command
&lt;n&gt;&lt;cmd&gt;    Perform command 'n' number of times
&lt;cmd&gt;&lt;n&gt;&lt;object&gt;    Perform the command on the n'th or up to the n'th object
</pre>
<p>Notable missing body pane commands:</p>
<pre class="literal-block">
&lt;num&gt;G      Go to specified line number
z&lt;movement&gt; Slide buffer to put current line at top/middle/bottom of pane
</pre>
<hr class="docutils" />
<p><a class="reference external" href="IPythonBridge.html"><img alt="back" src="arrow_lt.gif" /></a> <a class="reference external" href="front.html"><img alt="leo" src="leo.gif" /></a> <a class="reference external" href="appendices.html"><img alt="next" src="arrow_rt.gif" /></a></p>
</div>
</div>
</div>
</body>
</html>
